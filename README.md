#### üë§ –ê–≤—Ç–æ—Ä –∫—É—Ä—Å–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**Rinat Sarmuldin**
Email: [ura07srr@gmail.com](mailto:ura07srr@gmail.com)

# Inventory App

–ü—Ä–æ–µ–∫—Ç —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –Ω–∞ PHP (Symfony 6.4) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PostgreSQL.

---

## üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞ (`ROLE_ADMIN`, `ROLE_USER`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä)
- –ü—É–±–ª–∏—á–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏
- ACL-–¥–æ—Å—Ç—É–ø –∫ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è–º (READ / WRITE)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è:
  - —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
  - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º
  - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –ø–æ–ª–µ–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- –ó–∞—â–∏—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ Symfony Security + Voter

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

- **Controller** ‚Äî HTTP-—Å–ª–æ–π, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Service** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Domain** ‚Äî –¥–æ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, value object'—ã, enum'—ã –∏ –ø–æ–ª–∏—Ç–∏–∫–∏
- **Repository** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î —á–µ—Ä–µ–∑ Doctrine ORM
- **Entity** ‚Äî ORM-—Å—É—â–Ω–æ—Å—Ç–∏
- **DTO** ‚Äî –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
- **Security / Voter** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ (ACL)

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- —Å–ª–∞–±—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- —É–¥–æ–±—Å—Ç–≤–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º

---

## üöÄ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:
- **PHP 8.2** –∏–ª–∏ –≤—ã—à–µ
- **Composer**
- **Docker** –∏ **Docker Compose**
- **Make** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Symfony Security
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ö—Ä–∞–Ω–∏–º—ã—Ö –≤ –ë–î
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ Voter'—ã
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è–º:
  - –≤–ª–∞–¥–µ–ª–µ—Ü
  - ACL (READ / WRITE)
  - –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø

–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–∫—Ä—ã—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥—É–ª—å–Ω—ã–µ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã.

–¢–µ—Å—Ç—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —É—Ä–æ–≤–Ω—è–º:

- **Unit** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- **Integration** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Doctrine –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- **Functional** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ HTTP-—Å–ª–æ—è, security –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ:

```bash
docker compose exec app vendor/bin/phpunit
```
---
## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ.
---
### üö¢ –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Docker (–±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫)

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone git@github.com:07Rinat07/inventory-app-final.git
cd inventory-app-final
```

#### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker compose up -d --build
```
* –ö–æ–º–∞–Ω–¥–∞ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Composer, —Å–æ–∑–¥–∞—Å—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –≤—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç —Ñ–∏–∫—Å—Ç—É—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

#### 3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
docker compose exec app vendor/bin/phpunit
```
* –í—Å–µ —Ç–µ—Å—Ç—ã (Unit, Integration, Functional) –±—É–¥—É—Ç –ø—Ä–æ–≥–Ω–∞–Ω—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞ (`APP_ENV=test`) –∏ —Ç–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

#### 4. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
* –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080
* –î–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `var/sessions` –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞.
* –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ Symfony –∫–æ–Ω—Å–æ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
docker compose exec app php bin/console ...
```

### –°–ø–æ—Å–æ–± 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker –¥–ª—è PHP)
‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

* –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑
* .env / .env.local:
- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `APP_ENV` ‚Äî –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`dev`, `test`, `prod`)
- `APP_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---
#### –®–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone git@github.com:07Rinat07/inventory-app-final.git
cd inventory-app-final
```
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
composer install
```
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
* –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –æ–±–Ω–æ–≤–∏—Ç–µ DATABASE_URL –≤ .env.local
* DATABASE_URL="pgsql://inventory_user:inventory_pass@127.0.0.1:5432/inventory_app?serverVersion=16"
4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
php bin/console doctrine:migrations:migrate --no-interaction
php bin/console doctrine:fixtures:load --no-interaction
```
5. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
symfony server:start
```
6. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
* –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

üîë –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (—Ñ–∏–∫—Å—Ç—É—Ä—ã)

| Email               | –ü–∞—Ä–æ–ª—å          | –†–æ–ª—å         | –û–ø–∏—Å–∞–Ω–∏–µ                              |
| ------------------- | --------------- | ------------ | ------------------------------------- |
| `admin@test.com`    | `admin12345`    | `ROLE_ADMIN` | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø                         |
| `user@test.com`     | `user12345`     | `ROLE_USER`  | –î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º –∏ –ø—É–±–ª–∏—á–Ω—ã–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è–º |

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (—Ñ–∏–∫—Å—Ç—É—Ä—ã)
* –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏
* Admin Private Inventory (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
* Admin Public Inventory (–ø—É–±–ª–∏—á–Ω—ã–π)
* User Private Inventory (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
* ACL
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å user@test.com –∏–º–µ–µ—Ç WRITE –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –∏–Ω–≤–µ–Ω—Ç–∞—Ä—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
* –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º

üß† –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
* JSON-—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
* –í—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —è–≤–Ω—ã–µ —Å–≤—è–∑–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã
* –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

üìé –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
#### –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö –∫–∞–∫ –∫—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞, —Å —É–ø–æ—Ä–æ–º –Ω–∞:
* —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –ë–î
* –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
* —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
* —É–¥–æ–±—Å—Ç–≤–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
